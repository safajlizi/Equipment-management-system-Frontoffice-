<div class="pos">

    <h1> {{actionBtn}} equipment </h1>
  <form class="example-form" [formGroup]="equipmentForm">

    <table cellspacing="2">
      <tr>
        <td style="width: 240px;">
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Label/eq.name</mat-label>
      <textarea matInput formControlName="label"></textarea>
    </mat-form-field>
        </td>
        <td style="width: 240px;">
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Serial number</mat-label>
            <textarea matInput formControlName="serial_number"></textarea>
          </mat-form-field>
        </td>
      </tr>
    </table>


    <table cellspacing="2">
      <tr>
        <td>
          <mat-form-field [ngStyle]="{'width': equipmentForm.value.category == 'other' ? '240px' : '480px'}"
            appearance="outline">
            <mat-label>Category</mat-label>
            <mat-select formControlName="category" placeholder="role">
              <div *ngFor="let cat of category">
                <mat-option [value]="cat.id">{{cat.name}}</mat-option>
              </div>
              <mat-option value="calibration"> Calibration equipment</mat-option>

              <mat-option value="other">Other</mat-option>
            </mat-select>
          </mat-form-field>
        </td>
        <td>
          <mat-form-field appearance="outline" style="width:240px" *ngIf='equipmentForm.value.category == "other"'>
            <mat-label>Other</mat-label>
            <textarea matInput formControlName="other"></textarea>
          </mat-form-field>
        </td>
      </tr>
    </table>
    <table cellspacing="2">
      <tr>
        <td>
          <mat-form-field [ngStyle]="{'width': equipmentForm.value.conformity == 'notcompliant' ? '240px' : '480px'}"
            appearance="outline">
            <mat-label> Conformity</mat-label>
            <mat-select formControlName="conformity" placeholder="role">
              <mat-option value="compliant" selected>Compliant</mat-option>
              <mat-option value="notcompliant">No compliant</mat-option>

            </mat-select>
          </mat-form-field>
        </td>
        <td>
          <mat-form-field appearance="outline" style="width:280px"
            *ngIf='equipmentForm.value.conformity =="notcompliant"'>
            <mat-label>Details</mat-label>
            <textarea matInput formControlName="defaults"></textarea>
          </mat-form-field>
        </td>
      </tr>
    </table>
    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Constructor</mat-label>
      <textarea matInput formControlName="maker"></textarea>
    </mat-form-field>

    <mat-form-field class="example-full-width" appearance="outline">
      <mat-label>Technical details</mat-label>
      <textarea matInput formControlName="description"></textarea>
    </mat-form-field>

    <mat-form-field class="example-full-width"  appearance="outline">
    <mat-label>Property</mat-label>
    <mat-select formControlName="property" placeholder="property">
      <div *ngFor="let pro of property">
        <mat-option [value]="pro.id">{{pro.name}}</mat-option>
      </div>
    
    </mat-select>
  </mat-form-field>
    <table cellspacing="0">
      <tr>
        <td>

          <mat-form-field [ngStyle]="{'width': equipmentForm.value.calibration =='ok' ? '200px' : '500px'}"
            appearance="outline">
            <mat-label> Calibration</mat-label>
            <mat-select formControlName="calibration" placeholder="Role">
              <mat-option value="ok">ok</mat-option>
              <mat-option value="na" selected>No</mat-option>
            </mat-select>
          </mat-form-field>
        </td>
        <td>

          <mat-form-field appearance="outline" style="width:300px" *ngIf='equipmentForm.value.calibration == "ok"'>
            <mat-label>Choose a calibrate date</mat-label>
            <input formControlName="validity_date" matInput [matDatepicker]="picker">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </td>
      </tr>
    </table>



  </form>
  <div mat-dialog-actions [align]="'end'">
    <button mat-raised-button mat-dialog-close>Cancel</button>
    <button mat-raised-button color="primary" (click)="addEquipment()">{{actionBtn}}</button>

  </div>
</div>